{"ast":null,"code":"/*\r\njQWidgets v8.1.4 (2019-July)\r\nCopyright (c) 2011-2019 jQWidgets.\r\nLicense: https://jqwidgets.com/license/\r\n*/\n\n/* eslint-disable */\n(function (a) {\n  a.jqx.dataview.grouping = function () {\n    this.loadgrouprecords = function (B, E, p, C, F, e, O, D, v) {\n      var J = B;\n      var h = this;\n      var N = new Array();\n\n      for (var l = 0; l < h.groups.length; l++) {\n        N[l] = h.generatekey();\n      }\n\n      var H = new Array();\n      var b = 0;\n      var N = N;\n      var y = new Array();\n      var M = E;\n      var d = E;\n      var z = h.groups.length;\n      this.loadedrecords = new Array();\n      this.bounditems = new Array();\n      this.loadedrecords = new Array();\n      this.loadedrootgroups = new Array();\n      this.loadedgroups = new Array();\n      this.loadedgroupsByKey = new Array();\n      this.sortedgroups = new Array();\n      var L = this.sortdata != null;\n      var P = L ? this.sortdata : this.records;\n\n      if (this.pageable) {\n        var s = new Array();\n        var A = 0;\n\n        if (!P[E]) {\n          a.each(P, function (i, q) {\n            s[E + i++] = this;\n          });\n          P = s;\n        }\n      }\n\n      if (this.virtualmode) {\n        var s = new Array();\n        var A = 0;\n\n        for (var M = 0; M < p - E; M++) {\n          if (P[M]) {\n            s[E + A++] = P[M];\n          } else {\n            if (P[E + A]) {\n              s[E + A] = P[E + A];\n              A++;\n            }\n          }\n        }\n\n        M = 0;\n        P = s;\n      }\n\n      for (var c = E; c < p; c++) {\n        var w = {};\n\n        if (!L) {\n          w = a.extend({}, P[c]);\n        } else {\n          w = a.extend({}, P[c].value);\n        }\n\n        id = w[h.uniqueId];\n\n        if (F >= D || id != O[F][h.uniqueId] || e && e[id]) {\n          v[v.length] = F;\n        }\n\n        var I = new Array();\n        var u = 0;\n\n        for (var l = 0; l < z; l++) {\n          var r = h.groups[l];\n          var G = w[r];\n\n          if (G == null) {\n            G = \"\";\n          }\n\n          I[u++] = {\n            value: G,\n            hash: N[l]\n          };\n        }\n\n        if (I.length != z) {\n          break;\n        }\n\n        var j = null;\n        var k = \"\";\n        var f = -1;\n\n        for (var K = 0; K < I.length; K++) {\n          f++;\n          var n = I[K].value;\n          var t = I[K].hash;\n          k = k + \"_\" + t + \"_\" + n;\n\n          if (y[k] != undefined && y[k] != null) {\n            j = y[k];\n            continue;\n          }\n\n          if (j == null) {\n            j = {\n              group: n,\n              subItems: new Array(),\n              subGroups: new Array(),\n              level: 0\n            };\n            H[b++] = j;\n            j.uniqueid = h.generatekey();\n            h.loadedgroupsByKey[n] = j;\n          } else {\n            var m = {\n              group: n,\n              subItems: new Array(),\n              subGroups: new Array(),\n              parentItem: j,\n              level: j.level + 1\n            };\n            h.loadedgroupsByKey[j.uniqueid + \"_\" + n] = m;\n            m.uniqueid = h.generatekey();\n            j.subGroups[j.subGroups.length++] = m;\n            j = m;\n          }\n\n          y[k] = j;\n        }\n\n        if (j != null) {\n          if (undefined == w.uid) {\n            w.uid = this.getid(this.source.id, w, M);\n          }\n\n          if (!L) {\n            w.boundindex = M;\n            this.recordsbyid[\"id\" + w.uid] = P[c];\n          } else {\n            w.boundindex = P[c].index;\n            this.recordsbyid[\"id\" + w.uid] = P[c].value;\n          }\n\n          this.bounditems[w.boundindex] = w;\n          this.sortedgroups[M] = w;\n          w.uniqueid = h.generatekey();\n          w.parentItem = j;\n          w.level = j.level + 1;\n          j.subItems[j.subItems.length++] = w;\n        } else {\n          if (undefined == w.uid) {\n            w.uid = this.getid(this.source.id, w, M);\n          }\n\n          if (!L) {\n            w.boundindex = M;\n            this.recordsbyid[\"id\" + w.uid] = P[c];\n          } else {\n            w.boundindex = P[c].index;\n            this.recordsbyid[\"id\" + w.uid] = P[c].value;\n          }\n\n          this.sortedgroups[M] = w;\n          this.bounditems[w.boundindex] = w;\n          w.uniqueid = h.generatekey();\n        }\n\n        F++;\n        M++;\n        d++;\n      }\n\n      var g = function g(q, Q, R) {\n        for (var i = 0; i < Q.subItems.length; i++) {\n          Q.subItems[i].visibleindex = B + R;\n          q.rows[R] = Q.subItems[i];\n          q.loadedrecords[R] = Q.subItems[i];\n          R++;\n        }\n\n        return R;\n      };\n\n      var o = function o(X, V, R) {\n        var U = 1;\n        var Q = X.grid.columns.records ? X.grid.columns.records : X.grid.columns;\n\n        if (X.aggregates == true) {\n          for (var S = 0; S < Q.length; S++) {\n            if (Q[S].aggregates) {\n              U = Math.max(U, Q[S].aggregates.length);\n            }\n          }\n        }\n\n        var q = function q(Z) {\n          if (X.aggregates == true) {\n            var Y = function Y(ac) {\n              var aa = Z;\n              var ae = {};\n\n              var af = function af(ah) {\n                for (var ag = 0; ag < Q.length; ag++) {\n                  if (Q[ag].aggregates) {\n                    var an = X.grid.getcolumnaggregateddata(Q[ag].datafield, Q[ag].aggregates, true, ah);\n\n                    for (var ak = 0; ak < Q[ag].aggregates.length; ak++) {\n                      if (Q[ag].aggregates[ac]) {\n                        var al = Q[ag];\n                        var aj = Q[ag].aggregates[ac];\n                        var ai = aj;\n                        ai = X.grid._getaggregatename(ai);\n                        var am = ai + \":\" + an[aj];\n\n                        if (an[aj]) {\n                          ae[al.datafield] = am;\n                        } else {\n                          ae[al.datafield] = ai + \":\" + an[ai];\n                        }\n                      }\n                    }\n                  }\n                }\n              };\n\n              if (aa != null) {\n                ae.level = aa.level;\n                ae.visibleindex = B + R;\n                ae.uniqueid = X.generatekey();\n                X.rows[R] = ae;\n                X.loadedrecords[R++] = ae;\n                ae.totalsrow = true;\n\n                if (Z.subItems.length > 0) {\n                  aa = Z.subItems[Z.subItems.length - 1];\n                  ae.parentItem = aa.parentItem;\n\n                  if (ae.parentItem.subItems) {\n                    ae.parentItem.subItems[ae.parentItem.subItems.length] = ae;\n                  }\n\n                  var ab = [];\n\n                  var _ad = function ad() {\n                    for (var ag = 0; ag < Z.subItems.length; ag++) {\n                      if (Z.subItems[ag].totalsrow) {\n                        continue;\n                      }\n\n                      ab[ab.length] = Z.subItems[ag];\n                    }\n                  };\n\n                  _ad(Z);\n\n                  af(ab);\n                } else {\n                  if (Z.subGroups.length > 0) {\n                    aa = Z.subGroups[Z.subGroups.length - 1];\n                    ae.level = aa.level;\n                    ae.parentItem = Z;\n                    Z.subGroups[Z.subGroups.length] = ae;\n                    var ab = [];\n\n                    var _ad = function ad(ah) {\n                      if (ah.totalsrow) {\n                        return;\n                      }\n\n                      for (var ag = 0; ag < ah.subItems.length; ag++) {\n                        if (ah.subItems[ag].totalsrow) {\n                          continue;\n                        }\n\n                        ab[ab.length] = ah.subItems[ag];\n                      }\n\n                      for (var ag = 0; ag < ah.subGroups.length; ag++) {\n                        _ad(ah.subGroups[ag]);\n                      }\n                    };\n\n                    _ad(Z);\n\n                    af(ab);\n                  }\n                }\n              }\n            };\n\n            for (var i = 0; i < U; i++) {\n              Y(i);\n            }\n          }\n        };\n\n        for (var T in V.subGroups) {\n          var W = V.subGroups[T];\n\n          if (W.subGroups) {\n            X.loadedgroups[X.loadedgroups.length] = W;\n            W.visibleindex = B + R;\n            X.rows[R] = W;\n            X.loadedrecords[R] = W;\n            R++;\n\n            if (W.subGroups.length > 0) {\n              R = o(X, W, R);\n            } else {\n              if (W.subItems.length > 0) {\n                R = g(X, W, R);\n              }\n            }\n          }\n        }\n\n        if (V.subItems.length > 0) {\n          R = g(X, V, R);\n        }\n\n        q(V);\n        return R;\n      };\n\n      var x = H.length;\n      this.loadedgroups = new Array();\n      this.rows = new Array();\n      var J = 0;\n\n      for (var M = 0; M < x; M++) {\n        var r = H[M];\n        this.loadedrootgroups[M] = r;\n        this.loadedgroups[this.loadedgroups.length] = r;\n        r.visibleindex = B + J;\n        this.rows[J] = r;\n        this.loadedrecords[J] = r;\n        J++;\n        J = o(this, r, J);\n      }\n\n      return J;\n    };\n\n    this._updategroupsinpage = function (C, r, K, d, u, j, f) {\n      var p = new Array();\n      var w = [];\n\n      if (this.groupable && this.groups.length > 0) {\n        var B = 0;\n        var h = new Array();\n        var g = new Array();\n\n        for (var m = 0; m < C.groups.length; m++) {\n          g[m] = C.generatekey();\n        }\n\n        var F = 0;\n        var o = new Array();\n        var k = 0;\n\n        if (f > this.totalrecords) {\n          f = this.totalrecords;\n        }\n\n        for (var v = j; v < f; v++) {\n          var H = a.extend({}, C.sortedgroups[v]);\n          id = H[C.uniqueId];\n\n          if (!C.pagesize || K >= C.pagesize * C.pagenum && K < C.pagesize * (C.pagenum + 1)) {\n            if (d >= u || id != p[d][C.uniqueId] || updated && updated[id]) {\n              w[w.length] = d;\n            }\n\n            var e = new Array();\n            var y = 0;\n\n            for (var m = 0; m < C.groups.length; m++) {\n              var n = C.groups[m];\n              var D = H[n];\n\n              if (null == D) {\n                D = \"\";\n              }\n\n              e[y++] = {\n                value: D,\n                hash: g[m]\n              };\n            }\n\n            if (e.length != C.groups.length) {\n              break;\n            }\n\n            var z = null;\n            var s = \"\";\n            var c = -1;\n\n            for (var A = 0; A < e.length; A++) {\n              c++;\n              var G = e[A].value;\n              var l = e[A].hash;\n              s = s + \"_\" + l + \"_\" + G;\n\n              if (h[s] != undefined && h[s] != null) {\n                z = h[s];\n                continue;\n              }\n\n              if (z == null) {\n                z = {\n                  group: G,\n                  subItems: new Array(),\n                  subGroups: new Array(),\n                  level: 0\n                };\n                o[k++] = z;\n                var E = C.loadedgroupsByKey[G];\n\n                if (E != undefined) {\n                  z.visibleindex = E.visibleindex;\n                  z.uniqueid = E.uniqueid;\n                }\n              } else {\n                var t = {\n                  group: G,\n                  subItems: new Array(),\n                  subGroups: new Array(),\n                  parentItem: z,\n                  level: z.level + 1\n                };\n                var E = C.loadedgroupsByKey[z.uniqueid + \"_\" + G];\n                t.visibleindex = E.visibleindex;\n                t.uniqueid = E.uniqueid;\n                z.subGroups[z.subGroups.length++] = t;\n                z = t;\n              }\n\n              h[s] = z;\n            }\n\n            if (z != null) {\n              H.parentItem = z;\n              H.level = z.level + 1;\n              z.subItems[z.subItems.length++] = H;\n            }\n\n            d++;\n          }\n\n          F++;\n          K++;\n        }\n\n        var x = function x(L, M, q) {\n          for (var i = 0; i < M.subItems.length; i++) {\n            p[q] = a.extend({}, M.subItems[i]);\n            q++;\n          }\n\n          return q;\n        };\n\n        var I = function I(N) {\n          var q = false;\n\n          for (var M in N.subGroups) {\n            var L = N.subGroups[M];\n\n            if (L.subGroups) {\n              if (L.subGroups.length > 0) {\n                var i = I(L);\n\n                if (i) {\n                  q = true;\n                  return true;\n                }\n              }\n\n              if (L.subItems.length > 0) {\n                q = true;\n                return true;\n              }\n            }\n          }\n\n          if (N.subItems.length > 0) {\n            q = true;\n            return true;\n          }\n\n          return q;\n        };\n\n        var b = function b(R, P, S) {\n          var O = 1;\n          var L = R.grid.columns.records ? R.grid.columns.records : R.grid.columns;\n\n          if (R.aggregates == true) {\n            for (var M = 0; M < L.length; M++) {\n              if (L[M].aggregates) {\n                O = Math.max(O, L[M].aggregates.length);\n              }\n            }\n          }\n\n          var q = function q(U) {\n            if (R.aggregates == true) {\n              var T = function T(X) {\n                var V = U;\n                var Z = {};\n\n                var aa = function aa(ac) {\n                  for (var ab = 0; ab < L.length; ab++) {\n                    if (L[ab].aggregates) {\n                      var ai = R.grid.getcolumnaggregateddata(L[ab].datafield, L[ab].aggregates, true, ac);\n\n                      for (var af = 0; af < L[ab].aggregates.length; af++) {\n                        if (L[ab].aggregates[X]) {\n                          var ag = L[ab];\n                          var ae = L[ab].aggregates[X];\n                          var ad = ae;\n                          ad = R.grid._getaggregatename(ad);\n                          var ah = ad + \":\" + ai[ae];\n                          Z[ag.datafield] = ah;\n                        }\n                      }\n                    }\n                  }\n                };\n\n                if (V != null) {\n                  Z.level = V.level;\n                  Z.visibleindex = S;\n                  Z.uniqueid = R.generatekey();\n                  p[S] = Z;\n                  R.loadedrecords[S++] = Z;\n                  Z.totalsrow = true;\n\n                  if (U.subItems.length > 0) {\n                    V = U.subItems[U.subItems.length - 1];\n                    Z.parentItem = V.parentItem;\n\n                    if (Z.parentItem.subItems) {\n                      Z.parentItem.subItems[Z.parentItem.subItems.length] = Z;\n                    }\n\n                    var W = [];\n\n                    var _Y = function Y() {\n                      for (var ab = 0; ab < U.subItems.length; ab++) {\n                        if (U.subItems[ab].totalsrow) {\n                          continue;\n                        }\n\n                        W[W.length] = U.subItems[ab];\n                      }\n                    };\n\n                    _Y(U);\n\n                    aa(W);\n                  } else {\n                    if (U.subGroups.length > 0) {\n                      V = U.subGroups[U.subGroups.length - 1];\n                      Z.level = V.level;\n                      Z.parentItem = U;\n                      U.subGroups[U.subGroups.length] = Z;\n                      var W = [];\n\n                      var _Y = function Y(ac) {\n                        if (ac.totalsrow) {\n                          return;\n                        }\n\n                        for (var ab = 0; ab < ac.subItems.length; ab++) {\n                          if (ac.subItems[ab].totalsrow) {\n                            continue;\n                          }\n\n                          W[W.length] = ac.subItems[ab];\n                        }\n\n                        for (var ab = 0; ab < ac.subGroups.length; ab++) {\n                          _Y(ac.subGroups[ab]);\n                        }\n                      };\n\n                      _Y(U);\n\n                      aa(W);\n                    }\n                  }\n                }\n              };\n\n              for (var i = 0; i < O; i++) {\n                T(i);\n              }\n            }\n          };\n\n          for (var N in P.subGroups) {\n            var Q = P.subGroups[N];\n\n            if (Q.subGroups) {\n              if (I(Q)) {\n                p[S] = Q;\n                S++;\n\n                if (Q.subGroups.length > 0) {\n                  S = b(R, Q, S);\n                } else {\n                  if (Q.subItems.length > 0) {\n                    S = x(R, Q, S);\n                  }\n                }\n\n                q(Q);\n              }\n            }\n          }\n\n          if (P.subItems.length > 0) {\n            S = x(R, P, S);\n          }\n\n          q(P);\n          return S;\n        };\n\n        var J = 0;\n\n        for (var F = 0; F < o.length; F++) {\n          var n = o[F];\n\n          if (I(n)) {\n            p[B] = n;\n            B++;\n            B = b(this, n, B);\n          }\n        }\n      }\n\n      return p;\n    };\n  };\n\n  a.extend(a.jqx._jqxGrid.prototype, {\n    _initgroupsheader: function _initgroupsheader() {\n      this.groupsheader.css(\"visibility\", \"hidden\");\n\n      if (this._groupsheader()) {\n        this.groupsheader.css(\"visibility\", \"inherit\");\n        var e = this;\n        var c = this.gridlocalization.groupsheaderstring;\n        this.groupsheaderdiv = this.groupsheaderdiv || a('<div style=\"width: 100%; position: relative;\"></div>');\n        this.groupsheaderdiv.height(this.groupsheaderheight);\n        this.groupsheaderdiv.css(\"top\", 0);\n        this.groupsheader.append(this.groupsheaderdiv);\n        this.groupheadersbounds = new Array();\n        var d = this.groups.length;\n        this.groupsheaderdiv.children().remove();\n        this.groupsheaderdiv[0].innerHTML = \"\";\n        var b = new Array();\n\n        if (d > 0) {\n          a.each(this.groups, function (i) {\n            var n = this;\n\n            var m = e._getColumnText(this);\n\n            var l = m.label;\n\n            var k = e._rendergroupcolumn(l, n);\n\n            k.addClass(e.toThemeProperty(\"jqx-grid-group-column\"));\n            e.groupsheaderdiv.append(k);\n\n            if (e.closeablegroups) {\n              var j = a(k.find(\".jqx-icon-close\"));\n\n              if (e.isTouchDevice() && e.touchmode !== true) {\n                e.addHandler(j, \"touchstart\", function () {\n                  e.removegroupat(i);\n                  return false;\n                });\n              } else {\n                e.addHandler(j, \"click\", function () {\n                  e.removegroupat(i);\n                  return false;\n                });\n              }\n            }\n\n            if (e.sortable) {\n              e.addHandler(k, \"click\", function () {\n                var o = e.getcolumn(n);\n\n                if (o != null) {\n                  e._togglesort(o);\n                }\n\n                return false;\n              });\n            }\n\n            b[b.length] = k;\n\n            e._handlegroupstocolumnsdragdrop(this, k);\n\n            if (i < d - 1) {\n              var g = k.height();\n              var h = a('<div style=\"float: left; position: relative;\"></div>');\n\n              if (e.rtl) {\n                h.css(\"float\", \"right\");\n              }\n\n              h.width(e.groupindentwidth / 3);\n              h.height(1);\n              h.css(\"top\", g / 2);\n              h.addClass(e.toThemeProperty(\"jqx-grid-group-column-line\"));\n              e.groupsheaderdiv.append(h);\n            }\n          });\n        } else {\n          var f = a('<div style=\"position: relative;\">' + c + \"</div>\");\n          this.groupsheaderdiv.append(f);\n\n          if (this.rtl) {\n            f.addClass(this.toThemeProperty(\"jqx-rtl\"));\n          }\n        }\n\n        this._groupheaders = b;\n\n        this._updategroupheadersbounds();\n      }\n    },\n    _updategroupheadersbounds: function _updategroupheadersbounds() {\n      var c = this;\n      var b = this.groupsheaderdiv.children().outerHeight();\n      var d = (this.groupsheader.height() - b) / 2;\n      this.groupsheaderdiv.css(\"top\", d);\n\n      if (!this.rtl) {\n        this.groupsheaderdiv.css(\"left\", d);\n        this.groupsheaderdiv.css(\"right\", \"\");\n      } else {\n        this.groupsheaderdiv.css(\"left\", \"\");\n        this.groupsheaderdiv.css(\"right\", d);\n      }\n\n      if (this.rtl) {\n        this._groupheaders.reverse();\n      }\n\n      a.each(this._groupheaders, function (f) {\n        var e = this.coord();\n        c.groupheadersbounds[f] = {\n          left: e.left,\n          top: e.top,\n          width: this.outerWidth(),\n          height: this.outerHeight(),\n          index: f\n        };\n      });\n    },\n    addgroup: function addgroup(c) {\n      if (c) {\n        var b = this;\n\n        if (b.groups !== b.dataview.groups) {\n          b.dataview.groups = b.groups;\n        }\n\n        b.groups[b.groups.length] = c;\n        b.refreshgroups();\n\n        this._raiseEvent(12, {\n          type: \"Add\",\n          index: b.groups[b.groups.length],\n          groups: b.groups\n        });\n      }\n    },\n    insertgroup: function insertgroup(d, c) {\n      if (d != undefined && d != null && d >= 0 && d <= this.groups.length) {\n        if (c) {\n          var b = this;\n\n          if (b.groups !== b.dataview.groups) {\n            b.dataview.groups = b.groups;\n          }\n\n          b.groups.splice(d, 0, c.toString());\n          b.refreshgroups();\n\n          this._raiseEvent(12, {\n            type: \"Insert\",\n            index: d,\n            groups: b.groups\n          });\n        }\n      }\n    },\n    refreshgroups: function refreshgroups() {\n      this._refreshdataview();\n\n      this._render(true, true, true, false);\n\n      this._postrender(\"group\");\n    },\n    _insertaftergroup: function _insertaftergroup(d, c) {\n      var b = this._getGroupIndexByDataField(d);\n\n      this.insertgroup(b + 1, c);\n    },\n    _insertbeforegroup: function _insertbeforegroup(d, c) {\n      var b = this._getGroupIndexByDataField(d);\n\n      this.insertgroup(b, c);\n    },\n    removegroupat: function removegroupat(c) {\n      if (c >= 0 && c != null && c != undefined) {\n        var b = this;\n\n        if (b.groups !== b.dataview.groups) {\n          b.dataview.groups = b.groups;\n        }\n\n        b.groups.splice(c, 1);\n        b.refreshgroups();\n\n        if (b.virtualmode) {\n          b.updatebounddata();\n        }\n\n        this._raiseEvent(12, {\n          type: \"Remove\",\n          index: c,\n          groups: b.groups\n        });\n\n        return true;\n      }\n\n      return false;\n    },\n    cleargroups: function cleargroups() {\n      var b = this;\n      b.groups = [];\n      b.dataview.groups = b.groups;\n      b.refreshgroups();\n\n      this._raiseEvent(12, {\n        type: \"Clear\",\n        index: -1,\n        groups: b.groups\n      });\n\n      return true;\n    },\n    removegroup: function removegroup(c) {\n      if (c == null) {\n        return false;\n      }\n\n      var b = this.groups.indexOf(c.toString());\n      return this.removegroupat(b);\n    },\n    getrootgroupscount: function getrootgroupscount() {\n      var b = this.dataview.loadedrootgroups.length;\n      return b;\n    },\n    collapsegroup: function collapsegroup(c) {\n      if (c >= 0 && c.toString().indexOf(\".\") === -1) {\n        return this._setrootgroupstate(c, false);\n      }\n\n      var b = c.toString().split(\".\");\n      var f = null;\n\n      if (!this.groupsVisibility) {\n        this.groupsVisibility = new Array();\n      }\n\n      for (var d = 0; d < b.length; d++) {\n        var c = parseInt(b[d]);\n\n        if (d == 0) {\n          var f = this.dataview.loadedrootgroups[c];\n          this.groupsVisibility[f.group] = null;\n        } else {\n          var e = f.subGroups[c];\n\n          if (e) {\n            f = e;\n\n            if (d == b.length - 1) {\n              this._setgroupstate(f, false, true);\n\n              this.groupsVisibility[f.group] = null;\n            }\n          }\n        }\n      }\n    },\n    expandgroup: function expandgroup(c) {\n      if (c >= 0 && c.toString().indexOf(\".\") === -1) {\n        return this._setrootgroupstate(c, true);\n      }\n\n      var b = c.toString().split(\".\");\n      var f = null;\n\n      for (var d = 0; d < b.length; d++) {\n        var c = parseInt(b[d]);\n\n        if (d == 0) {\n          var f = this.dataview.loadedrootgroups[c];\n\n          this._setrootgroupstate(c, true);\n\n          if (!this.groupsVisibility) {\n            this.groupsVisibility = new Array();\n          }\n\n          this.groupsVisibility[f.group] = f;\n        } else {\n          var e = f.subGroups[c];\n\n          if (e) {\n            f = e;\n\n            this._setgroupstate(f, true, true);\n\n            if (!this.groupsVisibility) {\n              this.groupsVisibility = new Array();\n            }\n\n            this.groupsVisibility[f.group] = f;\n          }\n        }\n      }\n    },\n    collapseallgroups: function collapseallgroups(b) {\n      this._setbatchgroupstate(false, b);\n    },\n    expandallgroups: function expandallgroups(b) {\n      this._setbatchgroupstate(true, b);\n    },\n    isgroupexpanded: function isgroupexpanded(c) {\n      var d = this.dataview.loadedrootgroups[c];\n\n      if (d == null) {\n        return null;\n      }\n\n      var b = this.expandedgroups[d.uniqueid].expanded;\n      return b;\n    },\n    getgroup: function getgroup(e) {\n      var j = this.dataview.loadedrootgroups[e];\n\n      if (j == null) {\n        return null;\n      }\n\n      var f = this.expandedgroups[j.uniqueid].expanded;\n      var g = j.group;\n      var b = j.level;\n      var c = new Array();\n\n      this._getsubgroups(c, j);\n\n      var i = this;\n      var d = {\n        group: g,\n        level: b,\n        expanded: f,\n        subgroups: c\n      };\n\n      if (j.subItems) {\n        var h = new Array();\n        a.each(j.subItems, function () {\n          var k = this.boundindex;\n          h[h.length] = i.getrowdata(k);\n        });\n\n        if (h.length > 0) {\n          d.subrows = h;\n        }\n      }\n\n      return d;\n    },\n    getrootgroups: function getrootgroups() {\n      var d = this.dataview.loadedrootgroups.length;\n      var c = new Array();\n\n      for (var b = 0; b < d; b++) {\n        c[b] = this.getgroup(b);\n      }\n\n      return c;\n    },\n    _getsubgroups: function _getsubgroups(c, k) {\n      var j = this;\n\n      for (var e in k.subGroups) {\n        var i = k.subGroups[e];\n        var f = j.expandedgroups[i.uniqueid].expanded;\n        var g = i.group;\n        var b = i.level;\n        c[c.length] = {\n          group: g,\n          level: b,\n          expanded: f\n        };\n\n        if (i.subItems) {\n          var h = new Array();\n          a.each(i.subItems, function () {\n            var l = this.boundindex;\n            h[h.length] = j.getrowdata(l);\n          });\n          c[c.length - 1].subrows = h;\n        }\n\n        if (i.subGroups) {\n          var d = new Array();\n\n          j._getsubgroups(d, i);\n        }\n      }\n\n      return c;\n    },\n    _setbatchgroupstate: function _setbatchgroupstate(b, e) {\n      var c = this;\n\n      for (obj in this.dataview.loadedrootgroups) {\n        c._setrootgroupstate(obj, b, false, true);\n      }\n\n      if (e == false) {\n        c._requiresupdate = true;\n\n        c._renderrows(c.virtualsizeinfo);\n\n        return true;\n      }\n\n      var d = this.vScrollBar[0].style.visibility;\n      this.rendergridcontent(true, false);\n\n      if (d != this.vScrollBar[0].style.visibility || this._hiddencolumns) {\n        this._updatecolumnwidths();\n\n        this._updatecellwidths();\n\n        this._renderrows(this.virtualsizeinfo);\n      }\n\n      return true;\n    },\n    _setrootgroupstate: function _setrootgroupstate(d, b, f, c) {\n      if (d == undefined || d == null || d < 0) {\n        return false;\n      }\n\n      if (!this.groupable || this.groups.length == 0) {\n        return false;\n      }\n\n      var j = f != undefined ? f : true;\n\n      if (d >= 0 && d < this.dataview.loadedrootgroups.length) {\n        var h = this.dataview.loadedrootgroups[d];\n\n        if (this.pageable) {\n          var g = new Array();\n\n          for (var e = 0; e < this.dataview.rows.length; e++) {\n            if (this.dataview.rows[e].group != null && this.dataview.rows[e].level === 0) {\n              g.push(this.dataview.rows[e]);\n            }\n          }\n\n          h = g[d];\n\n          if (!h) {\n            return;\n          }\n        }\n\n        return this._setgroupstate(h, b, j, c);\n      }\n\n      return false;\n    },\n    _togglegroupstate: function _togglegroupstate(e, f) {\n      if (e == null || e == undefined) {\n        return false;\n      }\n\n      var c = this.vScrollInstance.value;\n      var d = this.expandedgroups[e.uniqueid];\n\n      if (d == undefined) {\n        d = false;\n      } else {\n        d = d.expanded;\n      }\n\n      d = !d;\n\n      if (!this.groupsVisibility) {\n        this.groupsVisibility = new Array();\n      }\n\n      if (d) {\n        this.groupsVisibility[e.group] = e;\n      } else {\n        this.groupsVisibility[e.group] = null;\n      }\n\n      var b = this._setgroupstate(e, d, f);\n\n      this._newmax = null;\n\n      if (c !== 0 && this.vScrollBar.css(\"visibility\") !== \"hidden\") {\n        if (c <= this.vScrollInstance.max) {\n          this.vScrollInstance.setPosition(c);\n        } else {\n          this.vScrollInstance.setPosition(this.vScrollInstance.max);\n        }\n      }\n\n      return b;\n    },\n    _setgroupstate: function _setgroupstate(f, b, h, c) {\n      if (f == null || f == undefined) {\n        return false;\n      }\n\n      var e = false;\n\n      if (this.editable && this.editcell) {\n        this.endcelledit(this.editcell.row, this.editcell.column, false, false);\n      }\n\n      var d = this.expandedgroups[f.uniqueid];\n\n      if (d == undefined) {\n        d = {\n          expanded: false\n        };\n        e = true;\n      }\n\n      if (d.expanded != b) {\n        e = true;\n      }\n\n      if (e) {\n        this.expandedgroups[f.uniqueid] = {\n          expanded: b,\n          group: f\n        };\n\n        this._setsubgroupsvisibility(this, f, !b, c);\n\n        if (h) {\n          var g = this.vScrollBar[0].style.visibility;\n          this.rendergridcontent(true, false);\n\n          if (g != this.vScrollBar[0].style.visibility || this._hiddencolumns) {\n            this._updatecolumnwidths();\n\n            this._updatecellwidths();\n\n            this._renderrows(this.virtualsizeinfo);\n          }\n        }\n\n        if (undefined == this.suspendgroupevents || this.suspendgroupevents == false) {\n          if (b) {\n            this._raiseEvent(4, {\n              group: f.group,\n              parentgroup: f.parentItem ? f.parentItem.group : null,\n              level: f.level,\n              visibleindex: f.visibleindex\n            });\n          } else {\n            this._raiseEvent(5, {\n              group: f.group,\n              parentgroup: f.parentItem ? f.parentItem.group : null,\n              level: f.level,\n              visibleindex: f.visibleindex\n            });\n          }\n        }\n\n        return true;\n      }\n\n      return false;\n    },\n    _setgroupitemsvisibility: function _setgroupitemsvisibility(c, e, d) {\n      for (var b = 0; b < e.subItems.length; b++) {\n        c._setrowvisibility(e.subItems[b].visibleindex, d, false);\n      }\n    },\n    _setsubgroupsvisibility: function _setsubgroupsvisibility(c, h, f, d) {\n      if (h.parentItem != null) {\n        if (this.hiddens[h.parentItem.visibleindex]) {\n          return;\n        }\n      } else {\n        if (h.parentItem == null) {\n          if (this.hiddens[h.visibleindex]) {\n            return;\n          }\n        }\n      }\n\n      for (var g in h.subGroups) {\n        var e = h.subGroups[g];\n\n        if (!f) {\n          c._setrowvisibility(e.visibleindex, f, false);\n        }\n\n        var b = !f;\n\n        if (!d) {\n          if (c.expandedgroups[e.uniqueid] == undefined) {\n            b = false;\n          } else {\n            b = c.expandedgroups[e.uniqueid].expanded;\n          }\n        } else {\n          this.expandedgroups[e.uniqueid] = {\n            expanded: b,\n            group: e\n          };\n        }\n\n        if (e.subGroups) {\n          if (e.subGroups.length > 0) {\n            c._setsubgroupsvisibility(c, e, !b || f, d);\n          } else {\n            if (e.subItems.length > 0) {\n              c._setgroupitemsvisibility(c, e, !b || f);\n            }\n          }\n        }\n\n        if (f) {\n          c._setrowvisibility(e.visibleindex, f, false);\n        }\n      }\n\n      if (h.subItems && h.subItems.length > 0) {\n        c._setgroupitemsvisibility(c, h, f);\n      }\n    },\n    _handlecolumnsdragdrop: function _handlecolumnsdragdrop() {\n      var d = this;\n      var g = -1;\n      var c = false;\n\n      if (!d.groupable) {\n        return;\n      }\n\n      var f = \"mousemove.grouping\" + this.element.id;\n      var e = \"mousedown.grouping\" + this.element.id;\n      var h = \"mouseup.grouping\" + this.element.id;\n      var b = false;\n\n      if (this.isTouchDevice() && this.touchmode !== true) {\n        b = true;\n        f = a.jqx.mobile.getTouchEventName(\"touchmove\") + \".grouping\" + this.element.id;\n        e = a.jqx.mobile.getTouchEventName(\"touchstart\") + \".grouping\" + this.element.id;\n        h = a.jqx.mobile.getTouchEventName(\"touchend\") + \".grouping\" + this.element.id;\n      }\n\n      this.removeHandler(a(document), f);\n      this.addHandler(a(document), f, function (j) {\n        if (!d.showgroupsheader) {\n          return true;\n        }\n\n        if (d.dragcolumn != null) {\n          var l = parseInt(j.pageX);\n          var u = parseInt(j.pageY);\n\n          if (b) {\n            var r = d.getTouches(j);\n            var p = r[0];\n            l = parseInt(p.pageX);\n            u = parseInt(p.pageY);\n          }\n\n          var n = d.host.coord();\n          var v = parseInt(n.left);\n          var w = parseInt(n.top);\n\n          if (d.dragmousedownoffset == undefined || d.dragmousedownoffset == null) {\n            d.dragmousedownoffset = {\n              left: 0,\n              top: 0\n            };\n          }\n\n          var t = parseInt(l) - parseInt(d.dragmousedownoffset.left);\n          var i = parseInt(u) - parseInt(d.dragmousedownoffset.top);\n          d.dragcolumn.css({\n            left: t + \"px\",\n            top: i + \"px\"\n          });\n          c = false;\n\n          if (l >= v && l <= v + d.host.width()) {\n            if (u >= w && u <= w + d.host.height()) {\n              c = true;\n            }\n          }\n\n          g = -1;\n\n          if (c) {\n            d.dragcolumnicon.removeClass(d.toThemeProperty(\"jqx-grid-dragcancel-icon\"));\n            d.dragcolumnicon.addClass(d.toThemeProperty(\"jqx-grid-drag-icon\"));\n            var s = d.groupsheader.coord();\n            var m = s.top + d.groupsheader.height();\n            var q = a.data(d.dragcolumn[0], \"datarecord\");\n\n            if (q) {\n              var k = d.groups.indexOf(q.toString());\n            } else {\n              var k = -1;\n            }\n\n            var o = k == -1 || d.groups.length > 1 && k > -1;\n\n            if (d.dropline != null) {\n              if (u >= s.top && u <= m) {\n                if (o) {\n                  g = d._handlegroupdroplines(l);\n                }\n              } else {\n                d.dropline.fadeOut(\"slow\");\n              }\n            }\n          } else {\n            if (d.dropline != null) {\n              d.dropline.fadeOut(\"slow\");\n            }\n\n            d.dragcolumnicon.removeClass(d.toThemeProperty(\"jqx-grid-drag-icon\"));\n            d.dragcolumnicon.addClass(d.toThemeProperty(\"jqx-grid-dragcancel-icon\"));\n          }\n\n          if (b) {\n            j.preventDefault();\n            j.stopPropagation();\n            return false;\n          }\n        }\n      });\n      this.removeHandler(a(document), h);\n      this.addHandler(a(document), h, function (i) {\n        if (!d.showgroupsheader) {\n          return true;\n        }\n\n        d.__drag = false;\n        a(document.body).removeClass(\"jqx-disableselect\");\n        var m = parseInt(i.pageX);\n        var s = parseInt(i.pageY);\n\n        if (b) {\n          var p = d.getTouches(i);\n          var o = p[0];\n          m = parseInt(o.pageX);\n          s = parseInt(o.pageY);\n        }\n\n        var n = d.host.coord();\n        var t = parseInt(n.left);\n        var u = parseInt(n.top);\n        var k = d.groupsheader.height();\n\n        if (d.showtoolbar) {\n          u += d.toolbarheight;\n        }\n\n        d.dragstarted = false;\n        d.dragmousedown = null;\n\n        if (d.dragcolumn != null) {\n          var l = a.data(d.dragcolumn[0], \"datarecord\");\n          d.dragcolumn.remove();\n          d.dragcolumn = null;\n\n          if (l != null) {\n            if (!d.getcolumn(l).groupable) {\n              if (d.dropline != null) {\n                d.dropline.remove();\n                d.dropline = null;\n              }\n\n              return;\n            }\n\n            if (c) {\n              if (g != -1) {\n                var q = g.index;\n                var r = d.groups[q];\n\n                var j = d._getGroupIndexByDataField(l);\n\n                if (j != q) {\n                  if (j != undefined && j >= 0) {\n                    d.groups.splice(j, 1);\n                  }\n\n                  if (g.position == \"before\") {\n                    if (!d.rtl) {\n                      d._insertbeforegroup(r, l);\n                    } else {\n                      d._insertaftergroup(r, l);\n                    }\n                  } else {\n                    if (!d.rtl) {\n                      d._insertaftergroup(r, l);\n                    } else {\n                      d._insertbeforegroup(r, l);\n                    }\n                  }\n                }\n              } else {\n                if (d.groups.length == 0) {\n                  if (s > u && s <= u + k) {\n                    d.addgroup(l);\n                  }\n                } else {\n                  if (s > u + k) {\n                    var j = d._getGroupIndexByDataField(l);\n\n                    d.removegroupat(j);\n                  }\n                }\n              }\n            }\n\n            if (d.dropline != null) {\n              d.dropline.remove();\n              d.dropline = null;\n            }\n          }\n        }\n      });\n    },\n    _getGroupIndexByDataField: function _getGroupIndexByDataField(b) {\n      for (var c = 0; c < this.groups.length; c++) {\n        if (this.groups[c] == b) {\n          return c;\n        }\n      }\n\n      return -1;\n    },\n    _isColumnInGroups: function _isColumnInGroups(c) {\n      for (var b = 0; b < this.groups.length; b++) {\n        if (this.groups[b] == c) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    _handlegroupdroplines: function _handlegroupdroplines(d) {\n      var b = this;\n      var c = -1;\n      a.each(b.groupheadersbounds, function (e) {\n        if (d <= this.left + this.width / 2) {\n          var f = this.left - 3;\n\n          if (e > 0) {\n            f = this.left - 1 - b.groupindentwidth / 6;\n          }\n\n          b.dropline.css(\"left\", f);\n          b.dropline.css(\"top\", this.top);\n          b.dropline.height(this.height);\n          b.dropline.fadeIn(\"slow\");\n          c = {\n            index: e,\n            position: \"before\"\n          };\n\n          if (b.rtl) {\n            c = {\n              index: b.groupheadersbounds.length - 1 - e,\n              position: \"before\"\n            };\n          }\n\n          return false;\n        } else {\n          if (d >= this.left + this.width / 2) {\n            b.dropline.css(\"left\", 1 + this.left + this.width);\n            b.dropline.css(\"top\", this.top);\n            b.dropline.height(this.height);\n            b.dropline.fadeIn(\"slow\");\n            c = {\n              index: e,\n              position: \"after\"\n            };\n\n            if (b.rtl) {\n              c = {\n                index: b.groupheadersbounds.length - 1 - e,\n                position: \"after\"\n              };\n            }\n          }\n        }\n      });\n      return c;\n    },\n    _handlegroupstocolumnsdragdrop: function _handlegroupstocolumnsdragdrop(c, e) {\n      this.dragmousedown = null;\n      this.dragmousedownoffset = null;\n      this.dragstarted = false;\n      this.dragcolumn = null;\n      var f = this;\n      var d;\n      var h = \"mousedown\";\n      var g = \"mousemove\";\n      var b = false;\n\n      if (this.isTouchDevice() && this.touchmode !== true) {\n        b = true;\n        h = a.jqx.mobile.getTouchEventName(\"touchstart\");\n        g = a.jqx.mobile.getTouchEventName(\"touchmove\");\n      }\n\n      this.addHandler(e, \"dragstart\", function (i) {\n        return false;\n      });\n      this.addHandler(e, h, function (i) {\n        if (!f.showgroupsheader) {\n          return true;\n        }\n\n        var l = i.pageX;\n        var k = i.pageY;\n        f.__drag = true;\n        f.dragmousedown = {\n          left: l,\n          top: k\n        };\n\n        if (b) {\n          var j = f.getTouches(i);\n          var n = j[0];\n          l = n.pageX;\n          k = n.pageY;\n          f.dragmousedown = {\n            left: l,\n            top: k\n          };\n\n          if (i.preventDefault) {\n            i.preventDefault();\n          }\n        }\n\n        var m = a(i.target).coord();\n        f.dragmousedownoffset = {\n          left: parseInt(l) - parseInt(m.left),\n          top: parseInt(k - m.top)\n        };\n      });\n      this.addHandler(e, g, function (i) {\n        if (!f.showgroupsheader) {\n          return true;\n        }\n\n        if (f.dragmousedown) {\n          d = {\n            left: i.pageX,\n            top: i.pageY\n          };\n\n          if (b) {\n            var k = f.getTouches(i);\n            var m = k[0];\n            d = {\n              left: m.pageX,\n              top: m.pageY\n            };\n          }\n\n          if (!f.dragstarted && f.dragcolumn == null) {\n            var j = Math.abs(d.left - f.dragmousedown.left);\n            var l = Math.abs(d.top - f.dragmousedown.top);\n\n            if (j > 3 || l > 3) {\n              f._createdragcolumn(e, d, true);\n\n              a(document.body).addClass(\"jqx-disableselect\");\n              a.data(f.dragcolumn[0], \"datarecord\", c);\n\n              if (i.preventDefault) {\n                i.preventDefault();\n              }\n            }\n          }\n        }\n      });\n    },\n    _createdragcolumn: function _createdragcolumn(c, e, g) {\n      var h = this;\n      var f = e;\n      h.dragcolumn = a(\"<div></div>\");\n      var j = c.clone();\n      h.dragcolumn.css(\"z-index\", 999999);\n      j.css(\"border-width\", \"1px\");\n      j.css(\"opacity\", \"0.4\");\n      var i = a(j.find(\".\" + h.toThemeProperty(\"jqx-grid-column-menubutton\")));\n\n      if (i.length > 0) {\n        i.css(\"display\", \"none\");\n      }\n\n      var b = a(j.find(\".jqx-icon-close\"));\n\n      if (b.length > 0) {\n        b.css(\"display\", \"none\");\n      }\n\n      h.dragcolumnicon = a('<div style=\"z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;\"></div>');\n      h.dragcolumnicon.addClass(h.toThemeProperty(\"jqx-grid-drag-icon\"));\n      h.dragcolumn.css(\"float\", \"left\");\n      h.dragcolumn.css(\"position\", \"absolute\");\n      var d = h.host.coord();\n      j.width(c.width() + 16);\n      h.dragcolumn.append(j);\n      h.dragcolumn.height(c.height());\n      h.dragcolumn.width(j.width());\n      h.dragcolumn.append(h.dragcolumnicon);\n      a(document.body).append(h.dragcolumn);\n      j.css(\"margin-left\", 0);\n      j.css(\"left\", 0);\n      j.css(\"top\", 0);\n      h.dragcolumn.css(\"left\", f.left + h.dragmousedown.left);\n      h.dragcolumn.css(\"top\", f.top + h.dragmousedown.top);\n\n      if (g != undefined && g) {\n        h.dropline = a('<div style=\"display: none; position: absolute;\"></div>');\n        h.dropline.width(2);\n        h.dropline.addClass(h.toThemeProperty(\"jqx-grid-group-drag-line\"));\n        a(document.body).append(h.dropline);\n      }\n    },\n    iscolumngroupable: function iscolumngroupable(b) {\n      return this._getcolumnproperty(b, \"groupable\");\n    },\n    _handlecolumnstogroupsdragdrop: function _handlecolumnstogroupsdragdrop(c, f) {\n      this.dragmousedown = null;\n      this.dragmousedownoffset = null;\n      this.dragstarted = false;\n      this.dragcolumn = null;\n      var g = this;\n      var e;\n      var b = false;\n\n      if (this.isTouchDevice() && this.touchmode !== true) {\n        b = true;\n      }\n\n      var d = \"mousedown.drag\";\n      var e = \"mousemove.drag\";\n\n      if (b) {\n        d = a.jqx.mobile.getTouchEventName(\"touchstart\") + \".drag\";\n        e = a.jqx.mobile.getTouchEventName(\"touchmove\") + \".drag\";\n      } else {\n        this.addHandler(f, \"dragstart\", function (h) {\n          return false;\n        });\n      }\n\n      this.addHandler(f, d, function (j) {\n        if (!g.showgroupsheader) {\n          return true;\n        }\n\n        g.__drag = true;\n\n        if (g._isColumnInGroups(c.displayfield)) {\n          if (f.css(\"cursor\") != \"col-resize\") {\n            return true;\n          } else {\n            return true;\n          }\n        }\n\n        if (false == c.groupable) {\n          return true;\n        }\n\n        var i = j.pageX;\n        var h = j.pageY;\n\n        if (b) {\n          var k = g.getTouches(j);\n          var m = k[0];\n          i = m.pageX;\n          h = m.pageY;\n        }\n\n        g.dragmousedown = {\n          left: i,\n          top: h\n        };\n\n        if (b) {\n          if (j.preventDefault) {\n            j.preventDefault();\n          }\n        }\n\n        var l = a(j.target).coord();\n        g.dragmousedownoffset = {\n          left: parseInt(i) - parseInt(l.left),\n          top: parseInt(h - l.top)\n        };\n      });\n      this.addHandler(f, e, function (j) {\n        if (!g.showgroupsheader) {\n          return true;\n        }\n\n        if (g._isColumnInGroups(c.displayfield)) {\n          if (f.css(\"cursor\") != \"col-resize\") {\n            return true;\n          } else {\n            return true;\n          }\n        }\n\n        if (g.dragmousedown) {\n          var i = j.pageX;\n          var h = j.pageY;\n\n          if (b) {\n            var l = g.getTouches(j);\n            var n = l[0];\n            i = n.pageX;\n            h = n.pageY;\n          }\n\n          e = {\n            left: i,\n            top: h\n          };\n\n          if (!g.dragstarted && g.dragcolumn == null) {\n            var k = Math.abs(e.left - g.dragmousedown.left);\n            var m = Math.abs(e.top - g.dragmousedown.top);\n\n            if (k > 3 || m > 3) {\n              g._createdragcolumn(f, e, true);\n\n              a.data(g.dragcolumn[0], \"datarecord\", c.displayfield);\n\n              if (j.preventDefault) {\n                j.preventDefault();\n              }\n            }\n          }\n        }\n      });\n    },\n    _rendergroupcolumn: function _rendergroupcolumn(g, h) {\n      var e = a('<div style=\"float: left; position: relative;\"></div>');\n\n      if (this.rtl) {\n        e.css(\"float\", \"right\");\n      }\n\n      if (this.groupcolumnrenderer != null) {\n        e[0].innerHTML = this.groupcolumnrenderer(g);\n        e.addClass(this.toThemeProperty(\"jqx-grid-group-column\"));\n        e.addClass(this.toThemeProperty(\"jqx-fill-state-normal\"));\n      }\n\n      if (this.closeablegroups) {\n        if (e[0].innerHTML == \"\") {\n          e[0].innerHTML = '<a style=\"float: left;\" href=\"#\">' + g + \"</a>\";\n        }\n\n        if (this.rtl) {\n          e[0].innerHTML = '<a style=\"float: right;\" href=\"#\">' + g + \"</a>\";\n        }\n\n        var d = !this.rtl ? \"right\" : \"left\";\n        var c = '<div style=\"float: ' + d + '; min-height: 16px; min-width: 18px;\"><div style=\"position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;\" class=\"' + this.toThemeProperty(\"jqx-icon-close\") + '\"></div></div>';\n\n        if (a.jqx.browser.msie && a.jqx.browser.version < 8) {\n          c = '<div style=\"float: left; min-height: 16px; min-width: 18px;\"><div style=\"position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;\" class=\"' + this.toThemeProperty(\"jqx-icon-close\") + '\"></div></div>';\n        }\n\n        if (this.rtl) {\n          var c = '<div style=\"float: ' + d + '; min-height: 16px; min-width: 18px;\"><div style=\"position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;\" class=\"' + this.toThemeProperty(\"jqx-icon-close\") + '\"></div></div>';\n\n          if (a.jqx.browser.msie && a.jqx.browser.version < 8) {\n            c = '<div style=\"float: left; min-height: 16px; min-width: 18px;\"><div style=\"position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;\" class=\"' + this.toThemeProperty(\"jqx-icon-close\") + '\"></div></div>';\n          }\n        }\n\n        e[0].innerHTML += c;\n      } else {\n        if (e[0].innerHTML == \"\") {\n          e[0].innerHTML = '<a href=\"#\">' + g + \"</a>\";\n        }\n      }\n\n      if (this.sortable) {\n        var f = a('<div style=\"float: right; min-height: 16px; min-width: 18px;\"><div style=\"position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;\" class=\"' + this.toThemeProperty(\"jqx-grid-column-sortascbutton\") + '\"></div></div>');\n        var b = a('<div style=\"float: right; min-height: 16px; min-width: 18px;\"><div style=\"position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;\" class=\"' + this.toThemeProperty(\"jqx-grid-column-sortdescbutton\") + '\"></div></div>');\n\n        if (this.closeablegroups) {\n          var f = a('<div style=\"float: right; min-height: 16px; min-width: 18px;\"><div style=\"position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;\" class=\"' + this.toThemeProperty(\"jqx-grid-column-sortascbutton\") + '\"></div></div>');\n          var b = a('<div style=\"float: right; min-height: 16px; min-width: 18px;\"><div style=\"position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;\" class=\"' + this.toThemeProperty(\"jqx-grid-column-sortdescbutton\") + '\"></div></div>');\n        }\n\n        if (this.rtl) {\n          var f = a('<div style=\"float: right; min-height: 16px; min-width: 18px;\"><div style=\"position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;\" class=\"' + this.toThemeProperty(\"jqx-grid-column-sortascbutton\") + '\"></div></div>');\n          var b = a('<div style=\"float: right; min-height: 16px; min-width: 18px;\"><div style=\"position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;\" class=\"' + this.toThemeProperty(\"jqx-grid-column-sortdescbutton\") + '\"></div></div>');\n\n          if (this.closeablegroups) {\n            var f = a('<div style=\"float: right; min-height: 16px; min-width: 18px;\"><div style=\"position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;\" class=\"' + this.toThemeProperty(\"jqx-grid-column-sortascbutton\") + '\"></div></div>');\n            var b = a('<div style=\"float: right; min-height: 16px; min-width: 18px;\"><div style=\"position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;\" class=\"' + this.toThemeProperty(\"jqx-grid-column-sortdescbutton\") + '\"></div></div>');\n          }\n        }\n\n        f.css(\"display\", \"none\");\n        b.css(\"display\", \"none\");\n\n        if (a.jqx.browser.msie && a.jqx.browser.version < 8) {\n          f.css(\"float\", \"left\");\n          b.css(\"float\", \"left\");\n        }\n\n        e.append(f);\n        e.append(b);\n        a.data(document.body, \"groupsortelements\" + h, {\n          sortasc: f,\n          sortdesc: b\n        });\n      }\n\n      e.addClass(this.toThemeProperty(\"jqx-fill-state-normal\"));\n      e.addClass(this.toThemeProperty(\"jqx-grid-group-column\"));\n      return e;\n    },\n    _rendergroup: function _rendergroup(p, x, b, v, k, B, u) {\n      var H = x;\n      var c = x.cells[b.level];\n\n      if (this.rtl) {\n        c = x.cells[x.cells.length - 1 - b.level];\n      }\n\n      var F = this._findgroupstate(b.uniqueid);\n\n      if (b.bounddata.subGroups.length > 0 || b.bounddata.subItems.length > 0) {\n        var i = this.rtl ? \"-rtl\" : \"\";\n        var C = this.toThemeProperty(\"jqx-icon-arrow-right\");\n\n        if (i) {\n          C = this.toThemeProperty(\"jqx-icon-arrow-left\");\n        }\n\n        if (F) {\n          c.className += \" \" + this.toThemeProperty(\"jqx-grid-group-expand\" + i) + \" \" + this.toThemeProperty(\"jqx-icon-arrow-down\");\n        } else {\n          c.className += \" \" + this.toThemeProperty(\"jqx-grid-group-collapse\" + i) + \" \" + C;\n        }\n      }\n\n      var t = this._getColumnText(this.groups[b.level]).label;\n\n      var d = this.groupindentwidth;\n      var r = this.rowdetails && this.showrowdetailscolumn ? (1 + p) * d : p * d;\n      var y = u - r;\n      var g = b.level + 1;\n\n      if (this.rtl) {\n        g = 0;\n      }\n\n      var n = H.cells[g];\n      var A = 2;\n\n      while (n != undefined && n.style.display == \"none\" && A < H.cells.length - 1) {\n        n = H.cells[g + A - 1];\n        A++;\n      }\n\n      var f = a(n);\n\n      if (!n) {\n        return;\n      }\n\n      n.style.width = parseInt(y) + \"px\";\n\n      if (n.className.indexOf(\"jqx-grid-cell-filter\") != -1) {\n        f.removeClass(this.toThemeProperty(\"jqx-grid-cell-filter\"));\n      }\n\n      if (n.className.indexOf(\"jqx-grid-cell-sort\") != -1) {\n        f.removeClass(this.toThemeProperty(\"jqx-grid-cell-sort\"));\n      }\n\n      if (n.className.indexOf(\"jqx-grid-cell-pinned\") != -1) {\n        f.removeClass(this.toThemeProperty(\"jqx-grid-cell-pinned\"));\n      }\n\n      if (this.groupsrenderer != null) {\n        var h = {\n          group: b.group,\n          level: b.level,\n          parent: b.bounddata.parentItem,\n          subGroups: b.bounddata.subGroups,\n          subItems: b.bounddata.subItems,\n          groupcolumn: this._getColumnText(this.groups[b.level]).column\n        };\n        var q = this.groupsrenderer(t + \": \" + b.group, b.group, F, h);\n\n        if (q) {\n          n.innerHTML = q;\n        } else {\n          var l = b.bounddata.subItems.length > 0 ? b.bounddata.subItems.length : b.bounddata.subGroups.length;\n\n          if (this.showgroupaggregates) {\n            var I = b.bounddata.subItems.length > 0 ? b.bounddata.subItems : b.bounddata.subGroups;\n            l = 0;\n\n            for (var G = 0; G < I.length; G++) {\n              if (I[G].totalsrow) {\n                continue;\n              }\n\n              l++;\n            }\n          }\n\n          n.innerHTML = '<div class=\"' + this.toThemeProperty(\"jqx-grid-groups-row\") + '\" style=\"position: absolute;\"><span>' + t + ': </span><span class=\"' + this.toThemeProperty(\"jqx-grid-groups-row-details\") + '\">' + b.group + \" (\" + l + \")</span></div>\";\n        }\n      } else {\n        var e = this._getcolumnbydatafield(this.groups[b.level]);\n\n        var z = b.group;\n\n        if (e != null) {\n          if (e.cellsformat) {\n            if (a.jqx.dataFormat) {\n              if (a.jqx.dataFormat.isDate(z)) {\n                z = a.jqx.dataFormat.formatdate(z, e.cellsformat, this.gridlocalization);\n              } else {\n                if (a.jqx.dataFormat.isNumber(z)) {\n                  z = a.jqx.dataFormat.formatnumber(z, e.cellsformat, this.gridlocalization);\n                }\n              }\n            }\n          }\n\n          var l = b.bounddata.subItems.length > 0 ? b.bounddata.subItems.length : b.bounddata.subGroups.length;\n\n          if (this.showgroupaggregates) {\n            var I = b.bounddata.subItems.length > 0 ? b.bounddata.subItems : b.bounddata.subGroups;\n            l = 0;\n\n            for (var G = 0; G < I.length; G++) {\n              if (I[G].totalsrow) {\n                continue;\n              }\n\n              l++;\n            }\n          }\n\n          n.innerHTML = '<div class=\"' + this.toThemeProperty(\"jqx-grid-groups-row\") + '\" style=\"position: absolute;\"><span>' + t + ': </span><span class=\"' + this.toThemeProperty(\"jqx-grid-groups-row-details\") + '\">' + z + \" (\" + l + \")</span></div>\";\n        } else {\n          throw new Error(\"jqxGrid: Unable to find '\" + this.groups[b.level] + \"' group in the Grid's columns collection.\");\n        }\n      }\n\n      if (this.rtl) {\n        if (!e) {\n          e = this._getcolumnbydatafield(this.groups[b.level]);\n        }\n\n        var s = this.hScrollBar.css(\"visibility\") == \"hidden\" ? 0 : this.hScrollInstance.max - this.hScrollInstance.value;\n        var D = this.vScrollBar.css(\"visibility\") == \"hidden\" ? 0 : this.scrollbarsize + 6;\n        var r = this.rowdetails && this.showrowdetailscolumn ? (2 + b.level) * d : (1 + b.level) * d;\n        n.style.width = u + parseInt(s) - r - D + \"px\";\n        f.addClass(this.toThemeProperty(\"jqx-rtl\"));\n        var w = a(x.cells[x.cells.length - 1]).css(\"z-index\");\n        f.css(\"z-index\", w);\n        var E = f.find(\"div\");\n        var y = E.width();\n        E.css(\"left\", \"100%\");\n        var o = this.columns.records[x.cells.length - 2 - b.level] != null ? this.columns.records[x.cells.length - 2 - b.level].pinned : false;\n\n        if (this.table.width() < u) {\n          u = this.table.width();\n\n          if (this.vScrollBar.css(\"visibility\") != \"hidden\") {\n            u += this.vScrollBar.outerWidth();\n          }\n        }\n\n        if (e.pinned || o) {\n          if (this.rowdetails && this.showrowdetailscolumn) {\n            u += 30;\n          }\n\n          E.css(\"margin-left\", -y);\n          n.style.width = u + s - r - D + \"px\";\n        } else {\n          var s = this.hScrollBar.css(\"visibility\") == \"hidden\" ? 0 : this.hScrollInstance.max;\n          n.style.width = u + s - r - D + \"px\";\n          var y = E.width();\n          E.css(\"margin-left\", -y);\n        }\n      }\n    }\n  });\n})(jqxBaseFramework);","map":null,"metadata":{},"sourceType":"script"}