{"ast":null,"code":"import _classCallCheck from \"D:\\\\Work_Project\\\\ReactJs\\\\NewIncentive2020\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Work_Project\\\\ReactJs\\\\NewIncentive2020\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport jwt from 'jwt-simple';\n\nvar ApiService =\n/*#__PURE__*/\nfunction () {\n  function ApiService(domain) {\n    _classCallCheck(this, ApiService);\n\n    this.domain = \"http://172.18.0.135:8015\";\n    this.host_api = \"http://172.18.24.113:5015/gateway/routeapiget\";\n    this.token = \"VmriPq93P-jQc=HItb6IpU~go?#UAQ\";\n    this.secretcode = '123456';\n    this.getToken = this.getToken.bind(this);\n    this.getSecret = this.getSecret.bind(this);\n  }\n\n  _createClass(ApiService, [{\n    key: \"getToken\",\n    value: function getToken() {\n      var token = jwt.encode(this.token, this.secretcode);\n      return token;\n    }\n  }, {\n    key: \"getSecret\",\n    value: function getSecret() {\n      var mis = 'mis999*';\n      var secret = jwt.encode(this.secretcode, mis);\n      return secret;\n    }\n  }, {\n    key: \"getDataTest\",\n    value: function getDataTest() {\n      try {\n        var bodypass = Array();\n        bodypass = {\n          Urlpass: jwt.encode('www.jib.co.th', this.secretcode),\n          Datapass: [],\n          Methodpass: 'GET'\n        };\n        console.log(bodypass);\n        var options = {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"mis-access-token\": this.getToken(),\n            \"mis-access-secret\": this.getSecret()\n          },\n          body: JSON.stringify(bodypass)\n        };\n        console.log(options);\n        return fetch(this.host_api, options).then(function (response) {\n          return response.json();\n        }).then(function (responseData) {\n          // console.log(responseData)\n          return Promise.resolve(responseData);\n        });\n      } catch (err) {\n        return err;\n      }\n    }\n  }]);\n\n  return ApiService;\n}();\n\nexport { ApiService as default };","map":{"version":3,"sources":["D:\\Work_Project\\ReactJs\\NewIncentive2020\\src\\components\\actions\\apidata.js"],"names":["jwt","ApiService","domain","host_api","token","secretcode","getToken","bind","getSecret","encode","mis","secret","bodypass","Array","Urlpass","Datapass","Methodpass","console","log","options","method","headers","body","JSON","stringify","fetch","then","response","json","responseData","Promise","resolve","err"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,YAAhB;;IACqBC,U;;;AACnB,sBAAYC,MAAZ,EAAoB;AAAA;;AAClB,SAAKA,MAAL,GAAc,0BAAd;AACA,SAAKC,QAAL,GAAgB,+CAAhB;AAEA,SAAKC,KAAL,GAAa,gCAAb;AACA,SAAKC,UAAL,GAAgB,QAAhB;AACA,SAAKC,QAAL,GAAe,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAf;AACA,SAAKC,SAAL,GAAgB,KAAKA,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAhB;AACD;;;;+BACS;AACR,UAAIH,KAAK,GAAGJ,GAAG,CAACS,MAAJ,CAAW,KAAKL,KAAhB,EAAuB,KAAKC,UAA5B,CAAZ;AACA,aAAOD,KAAP;AACD;;;gCACU;AACT,UAAIM,GAAG,GAAG,SAAV;AACA,UAAIC,MAAM,GAAGX,GAAG,CAACS,MAAJ,CAAW,KAAKJ,UAAhB,EAA4BK,GAA5B,CAAb;AACA,aAAOC,MAAP;AACD;;;kCAEa;AAEZ,UAAI;AACA,YAAIC,QAAQ,GAACC,KAAK,EAAlB;AACID,QAAAA,QAAQ,GAAC;AACPE,UAAAA,OAAO,EAACd,GAAG,CAACS,MAAJ,CAAW,eAAX,EAA4B,KAAKJ,UAAjC,CADD;AAEPU,UAAAA,QAAQ,EAAC,EAFF;AAGPC,UAAAA,UAAU,EAAC;AAHJ,SAAT;AAKAC,QAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ;AACJ,YAAIO,OAAO,GAAG;AACZC,UAAAA,MAAM,EAAE,KADI;AAEZC,UAAAA,OAAO,EAAE;AACP,4BAAgB,kBADT;AAEP,gCAAmB,KAAKf,QAAL,EAFZ;AAGP,iCAAoB,KAAKE,SAAL;AAHb,WAFG;AAOZc,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeZ,QAAf;AAPM,SAAd;AASAK,QAAAA,OAAO,CAACC,GAAR,CAAYC,OAAZ;AACA,eAAOM,KAAK,CAAC,KAAKtB,QAAN,EAAgBgB,OAAhB,CAAL,CACJO,IADI,CACC,UAAAC,QAAQ;AAAA,iBAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,SADT,EAEJF,IAFI,CAEC,UAAAG,YAAY,EAAI;AACpB;AACA,iBAAOC,OAAO,CAACC,OAAR,CAAgBF,YAAhB,CAAP;AACD,SALI,CAAP;AAMD,OAxBH,CAwBI,OAAOG,GAAP,EAAY;AACZ,eAAOA,GAAP;AACD;AACJ;;;;;;SAjDkB/B,U","sourcesContent":["import jwt from 'jwt-simple';\r\nexport default class ApiService {\r\n  constructor(domain) {\r\n    this.domain = \"http://172.18.0.135:8015\";\r\n    this.host_api = \"http://172.18.24.113:5015/gateway/routeapiget\";\r\n\r\n    this.token = \"VmriPq93P-jQc=HItb6IpU~go?#UAQ\";\r\n    this.secretcode='123456';\r\n    this.getToken= this.getToken.bind(this);\r\n    this.getSecret= this.getSecret.bind(this);\r\n  }\r\n  getToken(){\r\n    var token = jwt.encode(this.token, this.secretcode)\r\n    return token;\r\n  }\r\n  getSecret(){\r\n    var mis = 'mis999*';\r\n    var secret = jwt.encode(this.secretcode, mis)\r\n    return secret;\r\n  }\r\n\r\n  getDataTest() {\r\n\r\n    try {\r\n        let bodypass=Array();\r\n            bodypass={\r\n              Urlpass:jwt.encode('www.jib.co.th', this.secretcode),\r\n              Datapass:[],\r\n              Methodpass:'GET'\r\n            }\r\n            console.log(bodypass)\r\n        var options = {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"mis-access-token\":this.getToken(),\r\n            \"mis-access-secret\":this.getSecret()\r\n          },\r\n          body: JSON.stringify(bodypass)\r\n        };\r\n        console.log(options)\r\n        return fetch(this.host_api, options)\r\n          .then(response => response.json())\r\n          .then(responseData => {\r\n            // console.log(responseData)\r\n            return Promise.resolve(responseData);\r\n          });\r\n      } catch (err) {\r\n        return err;\r\n      }\r\n  } \r\n}\r\n"]},"metadata":{},"sourceType":"module"}