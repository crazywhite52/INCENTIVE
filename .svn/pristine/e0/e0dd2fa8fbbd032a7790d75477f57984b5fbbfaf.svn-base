{"ast":null,"code":"import _defineProperty from \"D:\\\\Work_Project\\\\ReactJs\\\\JIB-Quicktron\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\Work_Project\\\\ReactJs\\\\JIB-Quicktron\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Work_Project\\\\ReactJs\\\\JIB-Quicktron\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Work_Project\\\\ReactJs\\\\JIB-Quicktron\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Work_Project\\\\ReactJs\\\\JIB-Quicktron\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Work_Project\\\\ReactJs\\\\JIB-Quicktron\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\Work_Project\\\\ReactJs\\\\JIB-Quicktron\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\Work_Project\\\\ReactJs\\\\JIB-Quicktron\\\\src\\\\components\\\\start\\\\page_search.js\";\nimport React, { Component } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport ImageZoom from \"react-medium-image-zoom\";\nimport { MDBInput } from \"mdbreact\";\nimport { MDBRow, MDBCol, MDBCard, MDBCardBody, MDBContainer } from \"mdbreact\";\nimport { MDBBtn, MDBIcon } from \"mdbreact\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { withSnackbar } from \"notistack\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport dateFormat from \"dateformat\";\nimport NumberFormat from \"react-number-format\";\nimport ApiService from \"../actions/apidata\";\nimport AuthService from \"../authlogin/AuthService\";\nimport Tbdata from \"./tb_jqx_search\";\nimport ModalComp from \"./modal_img\";\n\nvar page_search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(page_search, _Component);\n\n  function page_search(props) {\n    var _this;\n\n    _classCallCheck(this, page_search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(page_search).call(this, props));\n    _this.toggle = _this.toggle.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.BtnSearch = _this.BtnSearch.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.loadIndexData = _this.loadIndexData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.op = _this.op.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      datasearch: [],\n      loading: false,\n      modal: false,\n      name: \"\",\n      url: \"\"\n    };\n    _this.ApiCall = new ApiService();\n    return _this;\n  }\n\n  _createClass(page_search, [{\n    key: \"toggle\",\n    value: function toggle() {\n      //console.log(e+'---'+b);\n      this.setState({\n        modal: !this.state.modal,\n        url: \"\"\n      });\n    }\n  }, {\n    key: \"op\",\n    value: function op(a, b) {\n      var _this2 = this;\n\n      this.setState({\n        modal: true,\n        name: b\n      }, function () {\n        //alert(this.state.name);\n        //console.log(this.state.modal);\n        _this2.ApiCall.imageList().then(function (res) {\n          var name = _this2.state.name;\n          var updatedList = res.filter(function (item) {\n            return item.name.toLowerCase().search(name.toLowerCase()) !== -1;\n          });\n          console.log(updatedList);\n\n          _this2.setState({\n            url: updatedList[0].url\n          });\n        }).catch(function (error) {\n          console.error(error.message);\n        });\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      e.preventDefault();\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"MapData\",\n    value: function MapData(datares) {\n      //let d = Array();\n      var newArray = [];\n\n      for (var x in datares) {\n        var _newArray$push;\n\n        newArray.push((_newArray$push = {}, _defineProperty(_newArray$push, \"_id\", datares[x]._id), _defineProperty(_newArray$push, \"type\", datares[x].type), _defineProperty(_newArray$push, \"desc\", datares[x].desc), _defineProperty(_newArray$push, \"status\", datares[x].status), _defineProperty(_newArray$push, \"comment\", datares[x].comment), _defineProperty(_newArray$push, \"image\", datares[x].image), _defineProperty(_newArray$push, \"volumn\", datares[x].volumn), _defineProperty(_newArray$push, \"width\", datares[x].dimension.width), _defineProperty(_newArray$push, \"height\", datares[x].dimension.height), _defineProperty(_newArray$push, \"leng\", datares[x].dimension.length), _newArray$push));\n      }\n\n      this.setState({\n        datasearch: newArray\n      }, function () {}); //console.log(newArray);\n      // res.map(function(item, i) {\n      //   console.log(\"test\" + i);\n      // });\n    }\n  }, {\n    key: \"loadIndexData\",\n    value: function loadIndexData() {\n      var _this3 = this;\n\n      this.ApiCall.searchSpace(\"\").then(function (res) {\n        //console.log(res);\n        _this3.MapData(res); //this.setState({ datasearch: res }, () => {\n        //console.log(this.state.datasearch);\n        //console.log(JSON.stringify(this.state.datasearch));\n        //});\n\n      }).catch(function (error) {\n        console.error(error.message);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadIndexData(); //console.log(this.state)\n    }\n  }, {\n    key: \"BtnSearch\",\n    value: function BtnSearch() {\n      var _this4 = this;\n\n      var params = Array();\n      params = {\n        type: this.state.type === \"\" ? undefined : this.state.type,\n        status: this.state.status === \"\" ? undefined : this.state.status,\n        volumn: this.state.volumn === \"\" ? undefined : this.state.volumn\n      }; //console.log(params);\n\n      this.ApiCall.searchSpace(params).then(function (datares) {\n        //console.log(res);\n        var newArray = [];\n\n        for (var x in datares) {\n          var _newArray$push2;\n\n          newArray.push((_newArray$push2 = {}, _defineProperty(_newArray$push2, \"_id\", datares[x]._id), _defineProperty(_newArray$push2, \"type\", datares[x].type), _defineProperty(_newArray$push2, \"desc\", datares[x].desc), _defineProperty(_newArray$push2, \"status\", datares[x].status), _defineProperty(_newArray$push2, \"comment\", datares[x].comment), _defineProperty(_newArray$push2, \"image\", datares[x].image), _defineProperty(_newArray$push2, \"volumn\", datares[x].volumn), _defineProperty(_newArray$push2, \"width\", datares[x].dimension.width), _defineProperty(_newArray$push2, \"height\", datares[x].dimension.height), _defineProperty(_newArray$push2, \"leng\", datares[x].dimension.length), _newArray$push2));\n        }\n\n        _this4.setState({\n          loading: true\n        }, function () {\n          _this4.timeout = setTimeout(function () {\n            _this4.setState({\n              datasearch: newArray,\n              loading: false,\n              type: \"\",\n              status: \"\",\n              volumn: \"\"\n            });\n          }, 1500);\n        });\n      }).catch(function (error) {\n        console.error(error.message);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(LoadingOverlay, {\n        active: this.state.loading,\n        spinner: true,\n        text: \"loading...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(MDBRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        md: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(MDBCard, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(MDBCardBody, {\n        style: {\n          fontFamily: \"Prompt\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        spacing: 24,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        lg: 12,\n        xl: 12,\n        xs: 12,\n        sm: 12,\n        md: 12,\n        style: {\n          padding: 0,\n          marginLeft: 15,\n          marginTop: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        item: true,\n        lg: 12,\n        xl: 12,\n        xs: 12,\n        sm: 12,\n        md: 12,\n        style: {\n          paddingLeft: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(MDBRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        md: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"formInput1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\"), React.createElement(\"input\", {\n        name: \"type\",\n        onChange: this.handleChange,\n        value: this.state.type,\n        id: \"formInput1\",\n        className: \"form-control form-control-sm\",\n        type: \"text\",\n        placeholder: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      })), React.createElement(MDBCol, {\n        md: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"formInput2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"), React.createElement(\"select\", {\n        id: \"formInput2\",\n        name: \"status\",\n        value: this.state.status,\n        onChange: this.handleChange,\n        className: \"form-control form-control-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, \"Choose your option\"), React.createElement(\"option\", {\n        value: \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"True\"), React.createElement(\"option\", {\n        value: \"false\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, \"False\"))), React.createElement(MDBCol, {\n        md: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"formInput3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, \"volumn\"), React.createElement(\"input\", {\n        value: this.state.volumn,\n        name: \"volumn\",\n        onChange: this.handleChange,\n        id: \"formInput3\",\n        className: \"form-control form-control-sm\",\n        type: \"text\",\n        placeholder: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      })), React.createElement(MDBCol, {\n        md: \"2\",\n        style: {\n          bottom: 0,\n          top: 26\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(MDBBtn, {\n        onClick: this.BtnSearch,\n        outline: true,\n        size: \"sm\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(MDBIcon, {\n        icon: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }), \" \\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"), React.createElement(MDBBtn, {\n        size: \"sm\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(MDBIcon, {\n        icon: \"plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }), \" \\u0E2A\\u0E23\\u0E49\\u0E32\\u0E07\"))), React.createElement(MDBRow, {\n        style: {\n          paddingTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(Tbdata, {\n        Adata: this.state.datasearch,\n        op: this.op,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }))))))))), React.createElement(ModalComp, {\n        op: this.state.modal,\n        id: this.state.name,\n        fff: this.toggle,\n        url: this.state.url,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return page_search;\n}(Component);\n\nexport { page_search as default };","map":{"version":3,"sources":["D:\\Work_Project\\ReactJs\\JIB-Quicktron\\src\\components\\start\\page_search.js"],"names":["React","Component","Grid","ImageZoom","MDBInput","MDBRow","MDBCol","MDBCard","MDBCardBody","MDBContainer","MDBBtn","MDBIcon","LinearProgress","withSnackbar","LoadingOverlay","dateFormat","NumberFormat","ApiService","AuthService","Tbdata","ModalComp","page_search","props","toggle","bind","handleChange","BtnSearch","loadIndexData","op","state","datasearch","loading","modal","name","url","ApiCall","setState","a","b","imageList","then","res","updatedList","filter","item","toLowerCase","search","console","log","catch","error","message","e","preventDefault","target","value","datares","newArray","x","push","_id","type","desc","status","comment","image","volumn","dimension","width","height","length","searchSpace","MapData","params","Array","undefined","timeout","setTimeout","fontFamily","padding","marginLeft","marginTop","paddingLeft","bottom","top","paddingTop"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport ImageZoom from \"react-medium-image-zoom\";\r\nimport { MDBInput } from \"mdbreact\";\r\nimport { MDBRow, MDBCol, MDBCard, MDBCardBody, MDBContainer } from \"mdbreact\";\r\nimport { MDBBtn, MDBIcon } from \"mdbreact\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport { withSnackbar } from \"notistack\";\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\nimport dateFormat from \"dateformat\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport ApiService from \"../actions/apidata\";\r\nimport AuthService from \"../authlogin/AuthService\";\r\nimport Tbdata from \"./tb_jqx_search\";\r\nimport ModalComp from \"./modal_img\";\r\nexport default class page_search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.toggle = this.toggle.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.BtnSearch = this.BtnSearch.bind(this);\r\n    this.loadIndexData = this.loadIndexData.bind(this);\r\n    this.op = this.op.bind(this);\r\n    this.state = {\r\n      datasearch: [],\r\n      loading: false,\r\n      modal: false,\r\n      name: \"\",\r\n      url: \"\"\r\n    };\r\n    this.ApiCall = new ApiService();\r\n  }\r\n  toggle() {\r\n    //console.log(e+'---'+b);\r\n    this.setState({\r\n      modal: !this.state.modal,\r\n      url: \"\"\r\n    });\r\n  }\r\n\r\n  op(a, b) {\r\n    this.setState(\r\n      {\r\n        modal: true,\r\n        name: b\r\n      },\r\n      () => {\r\n          //alert(this.state.name);\r\n        //console.log(this.state.modal);\r\n        this.ApiCall.imageList()\r\n          .then(res => {\r\n            var name = this.state.name;\r\n            let updatedList = res.filter(function(item) {\r\n              return item.name.toLowerCase().search(name.toLowerCase()) !== -1;\r\n            });\r\n           console.log(updatedList);\r\n            this.setState({ url: updatedList[0].url });\r\n          })\r\n          .catch(error => {\r\n            console.error(error.message);\r\n          });\r\n      }\r\n    );\r\n  }\r\n  handleChange(e) {\r\n    e.preventDefault();\r\n\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  }\r\n  MapData(datares) {\r\n    //let d = Array();\r\n    let newArray = [];\r\n    for (var x in datares) {\r\n      newArray.push({\r\n        [\"_id\"]: datares[x]._id,\r\n        [\"type\"]: datares[x].type,\r\n        [\"desc\"]: datares[x].desc,\r\n        [\"status\"]: datares[x].status,\r\n        [\"comment\"]: datares[x].comment,\r\n        [\"image\"]: datares[x].image,\r\n        [\"volumn\"]: datares[x].volumn,\r\n        [\"width\"]: datares[x].dimension.width,\r\n        [\"height\"]: datares[x].dimension.height,\r\n        [\"leng\"]: datares[x].dimension.length\r\n      });\r\n    }\r\n    this.setState({ datasearch: newArray }, () => {});\r\n    //console.log(newArray);\r\n    // res.map(function(item, i) {\r\n    //   console.log(\"test\" + i);\r\n    // });\r\n  }\r\n  loadIndexData() {\r\n    this.ApiCall.searchSpace(\"\")\r\n      .then(res => {\r\n        //console.log(res);\r\n        this.MapData(res);\r\n        //this.setState({ datasearch: res }, () => {\r\n        //console.log(this.state.datasearch);\r\n\r\n        //console.log(JSON.stringify(this.state.datasearch));\r\n\r\n        //});\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n  componentDidMount() {\r\n    this.loadIndexData();\r\n    //console.log(this.state)\r\n  }\r\n  BtnSearch() {\r\n    let params = Array();\r\n    params = {\r\n      type: this.state.type === \"\" ? undefined : this.state.type,\r\n      status: this.state.status === \"\" ? undefined : this.state.status,\r\n      volumn: this.state.volumn === \"\" ? undefined : this.state.volumn\r\n    };\r\n    //console.log(params);\r\n    this.ApiCall.searchSpace(params)\r\n      .then(datares => {\r\n        //console.log(res);\r\n        let newArray = [];\r\n        for (var x in datares) {\r\n          newArray.push({\r\n            [\"_id\"]: datares[x]._id,\r\n            [\"type\"]: datares[x].type,\r\n            [\"desc\"]: datares[x].desc,\r\n            [\"status\"]: datares[x].status,\r\n            [\"comment\"]: datares[x].comment,\r\n            [\"image\"]: datares[x].image,\r\n            [\"volumn\"]: datares[x].volumn,\r\n            [\"width\"]: datares[x].dimension.width,\r\n            [\"height\"]: datares[x].dimension.height,\r\n            [\"leng\"]: datares[x].dimension.length\r\n          });\r\n        }\r\n        this.setState({ loading: true }, () => {\r\n          this.timeout = setTimeout(() => {\r\n            this.setState({\r\n              datasearch: newArray,\r\n              loading: false,\r\n              type: \"\",\r\n              status: \"\",\r\n              volumn: \"\"\r\n            });\r\n          }, 1500);\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n  render() {\r\n    return (\r\n      <LoadingOverlay active={this.state.loading} spinner text=\"loading...\">\r\n        <MDBRow>\r\n          <MDBCol md=\"12\">\r\n            <MDBCard>\r\n              <MDBCardBody style={{ fontFamily: \"Prompt\" }}>\r\n                <Grid container spacing={24}>\r\n                  <Grid\r\n                    item\r\n                    lg={12}\r\n                    xl={12}\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={12}\r\n                    style={{ padding: 0, marginLeft: 15, marginTop: 5 }}\r\n                  >\r\n                    {/* <h4 style={{ color: \"green\" }}>\r\n                    <MDBIcon\r\n                      fab\r\n                      icon=\"searchengin\"\r\n                      size=\"2x\"\r\n                      className=\"pink-text pr-3\"\r\n                    />\r\n                    &nbsp;Search Space\r\n                  </h4> */}\r\n                  </Grid>\r\n                  <Grid\r\n                    item\r\n                    lg={12}\r\n                    xl={12}\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={12}\r\n                    style={{ paddingLeft: 20 }}\r\n                  >\r\n                    <MDBRow>\r\n                      <MDBCol md=\"2\">\r\n                        <label htmlFor=\"formInput1\">ประเภท</label>\r\n                        <input\r\n                          name=\"type\"\r\n                          onChange={this.handleChange}\r\n                          value={this.state.type}\r\n                          id=\"formInput1\"\r\n                          className=\"form-control form-control-sm\"\r\n                          type=\"text\"\r\n                          placeholder=\"\"\r\n                        />\r\n                      </MDBCol>\r\n                      <MDBCol md=\"2\">\r\n                        <label htmlFor=\"formInput2\">สถานะ</label>\r\n                        <select\r\n                          id=\"formInput2\"\r\n                          name=\"status\"\r\n                          value={this.state.status}\r\n                          onChange={this.handleChange}\r\n                          className=\"form-control form-control-sm\"\r\n                        >\r\n                          <option value=\"\">Choose your option</option>\r\n                          <option value=\"true\">True</option>\r\n                          <option value=\"false\">False</option>\r\n                        </select>\r\n                        {/* <input\r\n                        name=\"status\"\r\n                        onChange={this.handleChange}\r\n                        id=\"formInput2\"\r\n                        className=\"form-control form-control-sm\"\r\n                        type=\"text\"\r\n                        placeholder=\"\"\r\n                      /> */}\r\n                      </MDBCol>\r\n                      <MDBCol md=\"2\">\r\n                        <label htmlFor=\"formInput3\">volumn</label>\r\n                        <input\r\n                          value={this.state.volumn}\r\n                          name=\"volumn\"\r\n                          onChange={this.handleChange}\r\n                          id=\"formInput3\"\r\n                          className=\"form-control form-control-sm\"\r\n                          type=\"text\"\r\n                          placeholder=\"\"\r\n                        />\r\n                      </MDBCol>\r\n                      <MDBCol md=\"2\" style={{ bottom: 0, top: 26 }}>\r\n                        <MDBBtn\r\n                          onClick={this.BtnSearch}\r\n                          outline\r\n                          size=\"sm\"\r\n                          color=\"primary\"\r\n                        >\r\n                          <MDBIcon icon=\"search\" /> ค้นหา\r\n                        </MDBBtn>\r\n                        <MDBBtn size=\"sm\" color=\"primary\">\r\n                          <MDBIcon icon=\"plus\" /> สร้าง\r\n                        </MDBBtn>\r\n                      </MDBCol>\r\n                    </MDBRow>\r\n\r\n                    <MDBRow style={{ paddingTop: 10 }}>\r\n                      <MDBCol>\r\n                        <Tbdata Adata={this.state.datasearch} op={this.op} />\r\n                      </MDBCol>\r\n                    </MDBRow>\r\n                  </Grid>\r\n                </Grid>\r\n              </MDBCardBody>\r\n            </MDBCard>\r\n          </MDBCol>\r\n        </MDBRow>\r\n        <ModalComp\r\n          op={this.state.modal}\r\n          id={this.state.name}\r\n          fff={this.toggle}\r\n          url={this.state.url}\r\n        ></ModalComp>\r\n      </LoadingOverlay>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}